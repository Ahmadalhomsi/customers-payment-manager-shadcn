Starting deployment of Ahmadalhomsi/customers-payment-manager-shadcn:master to localhost.
2025-Jul-23 11:46:01.689163
Preparing container with helper image: ghcr.io/coollabsio/coolify-helper:1.0.8.
2025-Jul-23 11:46:01.831700
[CMD]: docker stop --time=30 ts0gw0c00w0848k048c0kssg
2025-Jul-23 11:46:01.831700
Error response from daemon: No such container: ts0gw0c00w0848k048c0kssg
2025-Jul-23 11:46:01.958238
[CMD]: docker rm -f ts0gw0c00w0848k048c0kssg
2025-Jul-23 11:46:01.958238
Error response from daemon: No such container: ts0gw0c00w0848k048c0kssg
2025-Jul-23 11:46:02.157236
[CMD]: docker run -d --network coolify --name ts0gw0c00w0848k048c0kssg --rm -v /var/run/docker.sock:/var/run/docker.sock ghcr.io/coollabsio/coolify-helper:1.0.8
2025-Jul-23 11:46:02.157236
8b8b14ce4520d20cb97c0c83e000b48a5af44a89f34eaf286bbde658511df76c
2025-Jul-23 11:46:04.460912
[CMD]: docker exec ts0gw0c00w0848k048c0kssg bash -c 'GIT_SSH_COMMAND="ssh -o ConnectTimeout=30 -p 22 -o Port=22 -o LogLevel=ERROR -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null" git ls-remote https://x-access-token:<REDACTED>@github.com/Ahmadalhomsi/customers-payment-manager-shadcn.git master'
2025-Jul-23 11:46:04.460912
37e777c7e0d6c64f2d20bcba5022335b535f8cad	refs/heads/master
2025-Jul-23 11:46:04.754112
----------------------------------------
2025-Jul-23 11:46:04.760047
Importing Ahmadalhomsi/customers-payment-manager-shadcn:master (commit sha HEAD) to /artifacts/ts0gw0c00w0848k048c0kssg.
2025-Jul-23 11:46:05.034663
[CMD]: docker exec ts0gw0c00w0848k048c0kssg bash -c 'git clone -b "master" https://x-access-token:<REDACTED>@github.com/Ahmadalhomsi/customers-payment-manager-shadcn.git /artifacts/ts0gw0c00w0848k048c0kssg && cd /artifacts/ts0gw0c00w0848k048c0kssg && GIT_SSH_COMMAND="ssh -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null" git submodule update --init --recursive && cd /artifacts/ts0gw0c00w0848k048c0kssg && GIT_SSH_COMMAND="ssh -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null" git lfs pull'
2025-Jul-23 11:46:05.034663
Cloning into '/artifacts/ts0gw0c00w0848k048c0kssg'...
2025-Jul-23 11:46:06.495227
[CMD]: docker exec ts0gw0c00w0848k048c0kssg bash -c 'cd /artifacts/ts0gw0c00w0848k048c0kssg && git log -1 37e777c7e0d6c64f2d20bcba5022335b535f8cad --pretty=%B'
2025-Jul-23 11:46:06.495227
Docker File fixes 1
2025-Jul-23 11:46:06.687888
Image not found (gc88o84og444ggw0wcwo8cg0:37e777c7e0d6c64f2d20bcba5022335b535f8cad). Building new image.
2025-Jul-23 11:46:07.981985
[CMD]: docker exec ts0gw0c00w0848k048c0kssg bash -c 'cat /artifacts/ts0gw0c00w0848k048c0kssg/Dockerfile'
2025-Jul-23 11:46:07.981985
# Use the official Node.js 18 Alpine image as base
2025-Jul-23 11:46:07.981985
FROM node:18-alpine AS base
2025-Jul-23 11:46:07.981985
2025-Jul-23 11:46:07.981985
# Install dependencies only when needed
2025-Jul-23 11:46:07.981985
FROM base AS deps
2025-Jul-23 11:46:07.981985
# Check https://github.com/nodejs/docker-node/tree/b4117f9333da4138b03a546ec926ef50a31506c3#nodealpine to understand why libc6-compat might be needed.
2025-Jul-23 11:46:07.981985
RUN apk add --no-cache libc6-compat curl
2025-Jul-23 11:46:07.981985
WORKDIR /app
2025-Jul-23 11:46:07.981985
2025-Jul-23 11:46:07.981985
# Install dependencies based on the preferred package manager
2025-Jul-23 11:46:07.981985
COPY package.json package-lock.json* ./
2025-Jul-23 11:46:07.981985
RUN \
2025-Jul-23 11:46:07.981985
if [ -f package-lock.json ]; then npm ci --only=production; \
2025-Jul-23 11:46:07.981985
else echo "Lockfile not found." && exit 1; \
2025-Jul-23 11:46:07.981985
fi
2025-Jul-23 11:46:07.981985
2025-Jul-23 11:46:07.981985
# Rebuild the source code only when needed
2025-Jul-23 11:46:07.981985
FROM base AS builder
2025-Jul-23 11:46:07.981985
WORKDIR /app
2025-Jul-23 11:46:07.981985
COPY --from=deps /app/node_modules ./node_modules
2025-Jul-23 11:46:07.981985
COPY . .
2025-Jul-23 11:46:07.981985
2025-Jul-23 11:46:07.981985
# Next.js collects completely anonymous telemetry data about general usage.
2025-Jul-23 11:46:07.981985
# Learn more here: https://nextjs.org/telemetry
2025-Jul-23 11:46:07.981985
# Uncomment the following line in case you want to disable telemetry during the build.
2025-Jul-23 11:46:07.981985
ENV NEXT_TELEMETRY_DISABLED=1
2025-Jul-23 11:46:07.981985
2025-Jul-23 11:46:07.981985
# Generate Prisma Client
2025-Jul-23 11:46:07.981985
RUN npx prisma generate
2025-Jul-23 11:46:07.981985
2025-Jul-23 11:46:07.981985
# Build the application
2025-Jul-23 11:46:07.981985
RUN npm run build
2025-Jul-23 11:46:07.981985
2025-Jul-23 11:46:07.981985
# Production image, copy all the files and run next
2025-Jul-23 11:46:07.981985
FROM base AS runner
2025-Jul-23 11:46:07.981985
WORKDIR /app
2025-Jul-23 11:46:07.981985
2025-Jul-23 11:46:07.981985
# Install curl for health checks
2025-Jul-23 11:46:07.981985
RUN apk add --no-cache curl
2025-Jul-23 11:46:07.981985
2025-Jul-23 11:46:07.981985
ENV NODE_ENV=production
2025-Jul-23 11:46:07.981985
# Uncomment the following line in case you want to disable telemetry during runtime.
2025-Jul-23 11:46:07.981985
ENV NEXT_TELEMETRY_DISABLED=1
2025-Jul-23 11:46:07.981985
2025-Jul-23 11:46:07.981985
# Create a non-root user
2025-Jul-23 11:46:07.981985
RUN addgroup --system --gid 1001 nodejs
2025-Jul-23 11:46:07.981985
RUN adduser --system --uid 1001 nextjs
2025-Jul-23 11:46:07.981985
2025-Jul-23 11:46:07.981985
# Copy the public folder
2025-Jul-23 11:46:07.981985
COPY --from=builder /app/public ./public
2025-Jul-23 11:46:07.981985
2025-Jul-23 11:46:07.981985
# Set the correct permission for prerender cache
2025-Jul-23 11:46:07.981985
RUN mkdir .next
2025-Jul-23 11:46:07.981985
RUN chown nextjs:nodejs .next
2025-Jul-23 11:46:07.981985
2025-Jul-23 11:46:07.981985
# Automatically leverage output traces to reduce image size
2025-Jul-23 11:46:07.981985
# https://nextjs.org/docs/advanced-features/output-file-tracing
2025-Jul-23 11:46:07.981985
COPY --from=builder --chown=nextjs:nodejs /app/.next/standalone ./
2025-Jul-23 11:46:07.981985
COPY --from=builder --chown=nextjs:nodejs /app/.next/static ./.next/static
2025-Jul-23 11:46:07.981985
2025-Jul-23 11:46:07.981985
# Copy Prisma schema and generated client
2025-Jul-23 11:46:07.981985
COPY --from=builder --chown=nextjs:nodejs /app/prisma ./prisma
2025-Jul-23 11:46:07.981985
COPY --from=builder --chown=nextjs:nodejs /app/node_modules/.prisma ./node_modules/.prisma
2025-Jul-23 11:46:07.981985
COPY --from=builder --chown=nextjs:nodejs /app/node_modules/@prisma ./node_modules/@prisma
2025-Jul-23 11:46:07.981985
2025-Jul-23 11:46:07.981985
# Copy startup script
2025-Jul-23 11:46:07.981985
COPY --from=builder --chown=nextjs:nodejs /app/scripts/start.sh ./start.sh
2025-Jul-23 11:46:07.981985
RUN chmod +x ./start.sh
2025-Jul-23 11:46:07.981985
2025-Jul-23 11:46:07.981985
USER nextjs
2025-Jul-23 11:46:07.981985
2025-Jul-23 11:46:07.981985
EXPOSE 3000
2025-Jul-23 11:46:07.981985
2025-Jul-23 11:46:07.981985
ENV PORT=3000
2025-Jul-23 11:46:07.981985
# set hostname to localhost
2025-Jul-23 11:46:07.981985
ENV HOSTNAME="0.0.0.0"
2025-Jul-23 11:46:07.981985
2025-Jul-23 11:46:07.981985
# Use startup script that handles database migrations
2025-Jul-23 11:46:07.981985
ENTRYPOINT ["./start.sh"]
2025-Jul-23 11:46:07.981985
2025-Jul-23 11:46:07.981985
# server.js is created by next build from the standalone output
2025-Jul-23 11:46:07.981985
# https://nextjs.org/docs/pages/api-reference/next-config-js/output
2025-Jul-23 11:46:07.981985
CMD ["node", "server.js"]
2025-Jul-23 11:46:08.466762
[CMD]: docker exec ts0gw0c00w0848k048c0kssg bash -c 'cat /artifacts/ts0gw0c00w0848k048c0kssg/Dockerfile'
2025-Jul-23 11:46:08.466762
# Use the official Node.js 18 Alpine image as base
2025-Jul-23 11:46:08.466762
FROM node:18-alpine AS base
2025-Jul-23 11:46:08.466762
2025-Jul-23 11:46:08.466762
# Install dependencies only when needed
2025-Jul-23 11:46:08.466762
FROM base AS deps
2025-Jul-23 11:46:08.466762
# Check https://github.com/nodejs/docker-node/tree/b4117f9333da4138b03a546ec926ef50a31506c3#nodealpine to understand why libc6-compat might be needed.
2025-Jul-23 11:46:08.466762
RUN apk add --no-cache libc6-compat curl
2025-Jul-23 11:46:08.466762
WORKDIR /app
2025-Jul-23 11:46:08.466762
2025-Jul-23 11:46:08.466762
# Install dependencies based on the preferred package manager
2025-Jul-23 11:46:08.466762
COPY package.json package-lock.json* ./
2025-Jul-23 11:46:08.466762
RUN \
2025-Jul-23 11:46:08.466762
if [ -f package-lock.json ]; then npm ci --only=production; \
2025-Jul-23 11:46:08.466762
else echo "Lockfile not found." && exit 1; \
2025-Jul-23 11:46:08.466762
fi
2025-Jul-23 11:46:08.466762
2025-Jul-23 11:46:08.466762
# Rebuild the source code only when needed
2025-Jul-23 11:46:08.466762
FROM base AS builder
2025-Jul-23 11:46:08.466762
WORKDIR /app
2025-Jul-23 11:46:08.466762
COPY --from=deps /app/node_modules ./node_modules
2025-Jul-23 11:46:08.466762
COPY . .
2025-Jul-23 11:46:08.466762
2025-Jul-23 11:46:08.466762
# Next.js collects completely anonymous telemetry data about general usage.
2025-Jul-23 11:46:08.466762
# Learn more here: https://nextjs.org/telemetry
2025-Jul-23 11:46:08.466762
# Uncomment the following line in case you want to disable telemetry during the build.
2025-Jul-23 11:46:08.466762
ENV NEXT_TELEMETRY_DISABLED=1
2025-Jul-23 11:46:08.466762
2025-Jul-23 11:46:08.466762
# Generate Prisma Client
2025-Jul-23 11:46:08.466762
RUN npx prisma generate
2025-Jul-23 11:46:08.466762
2025-Jul-23 11:46:08.466762
# Build the application
2025-Jul-23 11:46:08.466762
RUN npm run build
2025-Jul-23 11:46:08.466762
2025-Jul-23 11:46:08.466762
# Production image, copy all the files and run next
2025-Jul-23 11:46:08.466762
FROM base AS runner
2025-Jul-23 11:46:08.466762
WORKDIR /app
2025-Jul-23 11:46:08.466762
2025-Jul-23 11:46:08.466762
# Install curl for health checks
2025-Jul-23 11:46:08.466762
RUN apk add --no-cache curl
2025-Jul-23 11:46:08.466762
2025-Jul-23 11:46:08.466762
ENV NODE_ENV=production
2025-Jul-23 11:46:08.466762
# Uncomment the following line in case you want to disable telemetry during runtime.
2025-Jul-23 11:46:08.466762
ENV NEXT_TELEMETRY_DISABLED=1
2025-Jul-23 11:46:08.466762
2025-Jul-23 11:46:08.466762
# Create a non-root user
2025-Jul-23 11:46:08.466762
RUN addgroup --system --gid 1001 nodejs
2025-Jul-23 11:46:08.466762
RUN adduser --system --uid 1001 nextjs
2025-Jul-23 11:46:08.466762
2025-Jul-23 11:46:08.466762
# Copy the public folder
2025-Jul-23 11:46:08.466762
COPY --from=builder /app/public ./public
2025-Jul-23 11:46:08.466762
2025-Jul-23 11:46:08.466762
# Set the correct permission for prerender cache
2025-Jul-23 11:46:08.466762
RUN mkdir .next
2025-Jul-23 11:46:08.466762
RUN chown nextjs:nodejs .next
2025-Jul-23 11:46:08.466762
2025-Jul-23 11:46:08.466762
# Automatically leverage output traces to reduce image size
2025-Jul-23 11:46:08.466762
# https://nextjs.org/docs/advanced-features/output-file-tracing
2025-Jul-23 11:46:08.466762
COPY --from=builder --chown=nextjs:nodejs /app/.next/standalone ./
2025-Jul-23 11:46:08.466762
COPY --from=builder --chown=nextjs:nodejs /app/.next/static ./.next/static
2025-Jul-23 11:46:08.466762
2025-Jul-23 11:46:08.466762
# Copy Prisma schema and generated client
2025-Jul-23 11:46:08.466762
COPY --from=builder --chown=nextjs:nodejs /app/prisma ./prisma
2025-Jul-23 11:46:08.466762
COPY --from=builder --chown=nextjs:nodejs /app/node_modules/.prisma ./node_modules/.prisma
2025-Jul-23 11:46:08.466762
COPY --from=builder --chown=nextjs:nodejs /app/node_modules/@prisma ./node_modules/@prisma
2025-Jul-23 11:46:08.466762
2025-Jul-23 11:46:08.466762
# Copy startup script
2025-Jul-23 11:46:08.466762
COPY --from=builder --chown=nextjs:nodejs /app/scripts/start.sh ./start.sh
2025-Jul-23 11:46:08.466762
RUN chmod +x ./start.sh
2025-Jul-23 11:46:08.466762
2025-Jul-23 11:46:08.466762
USER nextjs
2025-Jul-23 11:46:08.466762
2025-Jul-23 11:46:08.466762
EXPOSE 3000
2025-Jul-23 11:46:08.466762
2025-Jul-23 11:46:08.466762
ENV PORT=3000
2025-Jul-23 11:46:08.466762
# set hostname to localhost
2025-Jul-23 11:46:08.466762
ENV HOSTNAME="0.0.0.0"
2025-Jul-23 11:46:08.466762
2025-Jul-23 11:46:08.466762
# Use startup script that handles database migrations
2025-Jul-23 11:46:08.466762
ENTRYPOINT ["./start.sh"]
2025-Jul-23 11:46:08.466762
2025-Jul-23 11:46:08.466762
# server.js is created by next build from the standalone output
2025-Jul-23 11:46:08.466762
# https://nextjs.org/docs/pages/api-reference/next-config-js/output
2025-Jul-23 11:46:08.466762
CMD ["node", "server.js"]
2025-Jul-23 11:46:08.726541
----------------------------------------
2025-Jul-23 11:46:08.733169
Building docker image started.
2025-Jul-23 11:46:08.738580
To check the current progress, click on Show Debug Logs.
2025-Jul-23 11:46:09.206637
[CMD]: docker exec ts0gw0c00w0848k048c0kssg bash -c 'cat /artifacts/build.sh'
2025-Jul-23 11:46:09.206637
docker build  --add-host coolify:10.0.1.6 --add-host coolify-db:10.0.1.3 --add-host coolify-realtime:10.0.1.2 --add-host coolify-redis:10.0.1.5 --add-host p08swwogkc880c4o0g0ssg0o:10.0.1.7 --network host -f /artifacts/ts0gw0c00w0848k048c0kssg/Dockerfile --build-arg SOURCE_COMMIT='37e777c7e0d6c64f2d20bcba5022335b535f8cad' --build-arg 'COOLIFY_URL=http://gc88o84og444ggw0wcwo8cg0.23.88.44.63.sslip.io' --build-arg 'COOLIFY_FQDN=gc88o84og444ggw0wcwo8cg0.23.88.44.63.sslip.io' --build-arg 'COOLIFY_BRANCH=master' --build-arg 'COOLIFY_RESOURCE_UUID=gc88o84og444ggw0wcwo8cg0' --build-arg 'COOLIFY_CONTAINER_NAME=gc88o84og444ggw0wcwo8cg0-114600258395' --progress plain -t gc88o84og444ggw0wcwo8cg0:37e777c7e0d6c64f2d20bcba5022335b535f8cad /artifacts/ts0gw0c00w0848k048c0kssg
2025-Jul-23 11:46:09.977137
[CMD]: docker exec ts0gw0c00w0848k048c0kssg bash -c 'bash /artifacts/build.sh'
2025-Jul-23 11:46:09.977137
#0 building with "default" instance using docker driver
2025-Jul-23 11:46:09.977137
2025-Jul-23 11:46:09.977137
#1 [internal] load build definition from Dockerfile
2025-Jul-23 11:46:09.977137
#1 transferring dockerfile: 2.64kB done
2025-Jul-23 11:46:09.977137
#1 DONE 0.0s
2025-Jul-23 11:46:09.977137
2025-Jul-23 11:46:09.977137
#2 [internal] load metadata for docker.io/library/node:18-alpine
2025-Jul-23 11:46:10.197352
#2 DONE 0.4s
2025-Jul-23 11:46:10.298823
#3 [internal] load .dockerignore
2025-Jul-23 11:46:10.298823
#3 transferring context: 1.08kB done
2025-Jul-23 11:46:10.298823
#3 DONE 0.0s
2025-Jul-23 11:46:10.298823
2025-Jul-23 11:46:10.298823
#4 [base 1/1] FROM docker.io/library/node:18-alpine@sha256:8d6421d663b4c28fd3ebc498332f249011d118945588d0a35cb9bc4b8ca09d9e
2025-Jul-23 11:46:10.298823
#4 DONE 0.0s
2025-Jul-23 11:46:10.298823
2025-Jul-23 11:46:10.298823
#5 [internal] load build context
2025-Jul-23 11:46:10.298823
#5 transferring context: 764.55kB 0.0s done
2025-Jul-23 11:46:10.298823
#5 DONE 0.1s
2025-Jul-23 11:46:10.539159
#6 [builder 1/5] WORKDIR /app
2025-Jul-23 11:46:10.539159
#6 CACHED
2025-Jul-23 11:46:10.539159
2025-Jul-23 11:46:10.539159
#7 [deps 1/4] RUN apk add --no-cache libc6-compat curl
2025-Jul-23 11:46:10.539159
#7 CACHED
2025-Jul-23 11:46:10.539159
2025-Jul-23 11:46:10.539159
#8 [deps 2/4] WORKDIR /app
2025-Jul-23 11:46:10.539159
#8 CACHED
2025-Jul-23 11:46:10.539159
2025-Jul-23 11:46:10.539159
#9 [deps 3/4] COPY package.json package-lock.json* ./
2025-Jul-23 11:46:10.539159
#9 CACHED
2025-Jul-23 11:46:10.539159
2025-Jul-23 11:46:10.539159
#10 [deps 4/4] RUN   if [ -f package-lock.json ]; then npm ci --only=production;   else echo "Lockfile not found." && exit 1;   fi
2025-Jul-23 11:46:10.539159
#10 CACHED
2025-Jul-23 11:46:10.539159
2025-Jul-23 11:46:10.539159
#11 [builder 2/5] COPY --from=deps /app/node_modules ./node_modules
2025-Jul-23 11:46:10.539159
#11 CACHED
2025-Jul-23 11:46:10.539159
2025-Jul-23 11:46:10.539159
#12 [builder 3/5] COPY . .
2025-Jul-23 11:46:10.539159
#12 DONE 0.1s
2025-Jul-23 11:46:10.539159
2025-Jul-23 11:46:10.539159
#13 [builder 4/5] RUN npx prisma generate
2025-Jul-23 11:46:13.206674
#13 2.809 npm warn exec The following package was not found and will be installed: prisma@6.12.0
2025-Jul-23 11:46:26.467402
#13 16.08 Prisma schema loaded from prisma/schema.prisma
2025-Jul-23 11:46:27.212950
#13 16.82
2025-Jul-23 11:46:27.212950
#13 16.82 ✔ Generated Prisma Client (v6.12.0) to ./node_modules/@prisma/client in 178ms
2025-Jul-23 11:46:27.212950
#13 16.82
2025-Jul-23 11:46:27.212950
#13 16.82 Start by importing your Prisma Client (See: https://pris.ly/d/importing-client)
2025-Jul-23 11:46:27.212950
#13 16.82
2025-Jul-23 11:46:27.212950
#13 16.82 Tip: Want to turn off tips and other hints? https://pris.ly/tip-4-nohints
2025-Jul-23 11:46:27.212950
#13 16.82
2025-Jul-23 11:46:27.324975
#13 16.86 npm notice
2025-Jul-23 11:46:27.324975
#13 16.86 npm notice New major version of npm available! 10.8.2 -> 11.4.2
2025-Jul-23 11:46:27.324975
#13 16.86 npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.4.2
2025-Jul-23 11:46:27.324975
#13 16.86 npm notice To update run: npm install -g npm@11.4.2
2025-Jul-23 11:46:27.324975
#13 16.86 npm notice
2025-Jul-23 11:46:27.324975
#13 DONE 16.9s
2025-Jul-23 11:46:27.324975
2025-Jul-23 11:46:27.324975
#14 [builder 5/5] RUN npm run build
2025-Jul-23 11:46:27.749348
#14 0.427
2025-Jul-23 11:46:27.749348
#14 0.427 > customers-payment-manager-shadcn@0.1.0 build
2025-Jul-23 11:46:27.749348
#14 0.427 > next build
2025-Jul-23 11:46:27.749348
#14 0.427
2025-Jul-23 11:46:29.527890
#14 2.204  ⚠ Invalid next.config.mjs options detected:
2025-Jul-23 11:46:29.678436
#14 2.208  ⚠     Unrecognized key(s) in object: 'outputFileTracingRoot' at "experimental"
2025-Jul-23 11:46:29.678436
#14 2.208  ⚠ See more info here: https://nextjs.org/docs/messages/invalid-next-config
2025-Jul-23 11:46:29.740652
#14 2.421    ▲ Next.js 15.4.1
2025-Jul-23 11:46:29.873770
#14 2.425
2025-Jul-23 11:46:29.873770
#14 2.554    Creating an optimized production build ...
2025-Jul-23 11:47:31.464951
#14 64.14  ✓ Compiled successfully in 53s
2025-Jul-23 11:47:31.619343
#14 64.15    Linting and checking validity of types ...
2025-Jul-23 11:47:31.702420
#14 64.38 It looks like you're trying to use TypeScript but do not have the required package(s) installed.
2025-Jul-23 11:47:31.702420
#14 64.38 Installing dependencies
2025-Jul-23 11:47:31.702420
#14 64.38
2025-Jul-23 11:47:31.702420
#14 64.38 If you are not trying to use TypeScript, please remove the tsconfig.json file from your package root (and any TypeScript files in your app and pages directories).
2025-Jul-23 11:47:31.702420
#14 64.38
2025-Jul-23 11:47:31.836243
#14 64.40
2025-Jul-23 11:47:31.836243
#14 64.41 Installing devDependencies (npm):
2025-Jul-23 11:47:31.836243
#14 64.41 - @types/node
2025-Jul-23 11:47:31.836243
#14 64.41
2025-Jul-23 11:47:31.836243
#14 64.52  ⨯ ESLint must be installed in order to run during builds: npm install --save-dev eslint
2025-Jul-23 11:47:43.502566
#14 76.18
2025-Jul-23 11:47:43.502566
#14 76.18 added 208 packages, and audited 615 packages in 11s
2025-Jul-23 11:47:43.694551
#14 76.19
2025-Jul-23 11:47:43.694551
#14 76.19 162 packages are looking for funding
2025-Jul-23 11:47:43.694551
#14 76.19   run `npm fund` for details
2025-Jul-23 11:47:43.694551
#14 76.20
2025-Jul-23 11:47:43.694551
#14 76.20 4 vulnerabilities (1 low, 2 high, 1 critical)
2025-Jul-23 11:47:43.694551
#14 76.20
2025-Jul-23 11:47:43.694551
#14 76.20 To address all issues, run:
2025-Jul-23 11:47:43.694551
#14 76.20   npm audit fix
2025-Jul-23 11:47:43.694551
#14 76.20
2025-Jul-23 11:47:43.694551
#14 76.20 Run `npm audit` for details.
2025-Jul-23 11:47:43.694551
#14 76.22
2025-Jul-23 11:47:59.445948
#14 92.12    Collecting page data ...
2025-Jul-23 11:48:06.085121
#14 98.76    Generating static pages (0/24) ...
2025-Jul-23 11:48:08.495498
#14 101.2    Generating static pages (6/24)
2025-Jul-23 11:48:08.648621
#14 101.2    Generating static pages (12/24)
2025-Jul-23 11:48:08.648621
#14 101.2    Generating static pages (18/24)
2025-Jul-23 11:48:09.063432
#14 101.7  ✓ Generating static pages (24/24)
2025-Jul-23 11:48:10.673219
#14 103.3    Finalizing page optimization ...
2025-Jul-23 11:48:10.819284
#14 103.3    Collecting build traces ...
2025-Jul-23 11:48:45.872065
#14 138.6
2025-Jul-23 11:48:46.046353
#14 138.6 Route (app)                                 Size  First Load JS
2025-Jul-23 11:48:46.046353
#14 138.6 ┌ ○ /                                    23.8 kB         222 kB
2025-Jul-23 11:48:46.046353
#14 138.6 ├ ○ /_not-found                            996 B         101 kB
2025-Jul-23 11:48:46.046353
#14 138.6 ├ ○ /admins                              5.01 kB         134 kB
2025-Jul-23 11:48:46.046353
#14 138.6 ├ ƒ /api/admins                            192 B        99.8 kB
2025-Jul-23 11:48:46.046353
#14 138.6 ├ ƒ /api/admins/[id]                       192 B        99.8 kB
2025-Jul-23 11:48:46.046353
#14 138.6 ├ ƒ /api/auth/me                           192 B        99.8 kB
2025-Jul-23 11:48:46.046353
#14 138.6 ├ ƒ /api/customers                         192 B        99.8 kB
2025-Jul-23 11:48:46.046353
#14 138.6 ├ ƒ /api/customers/[id]                    192 B        99.8 kB
2025-Jul-23 11:48:46.046353
#14 138.6 ├ ƒ /api/external/health                   192 B        99.8 kB
2025-Jul-23 11:48:46.046353
#14 138.6 ├ ƒ /api/external/newCustomer              192 B        99.8 kB
2025-Jul-23 11:48:46.046353
#14 138.6 ├ ƒ /api/external/renew                    192 B        99.8 kB
2025-Jul-23 11:48:46.046353
#14 138.6 ├ ƒ /api/external/validation               192 B        99.8 kB
2025-Jul-23 11:48:46.046353
#14 138.6 ├ ƒ /api/external/validationv2             192 B        99.8 kB
2025-Jul-23 11:48:46.046353
#14 138.6 ├ ƒ /api/login                             192 B        99.8 kB
2025-Jul-23 11:48:46.046353
#14 138.6 ├ ƒ /api/logout                            192 B        99.8 kB
2025-Jul-23 11:48:46.046353
#14 138.6 ├ ƒ /api/logs                              192 B        99.8 kB
2025-Jul-23 11:48:46.046353
#14 138.6 ├ ƒ /api/mailer                            192 B        99.8 kB
2025-Jul-23 11:48:46.046353
#14 138.6 ├ ƒ /api/notifications                     192 B        99.8 kB
2025-Jul-23 11:48:46.046353
#14 138.6 ├ ƒ /api/notifications/[id]                192 B        99.8 kB
2025-Jul-23 11:48:46.046353
#14 138.6 ├ ƒ /api/reminders                         192 B        99.8 kB
2025-Jul-23 11:48:46.046353
#14 138.6 ├ ƒ /api/reminders/[id]                    192 B        99.8 kB
2025-Jul-23 11:48:46.046353
#14 138.6 ├ ƒ /api/renew-histories                   192 B        99.8 kB
2025-Jul-23 11:48:46.046353
#14 138.6 ├ ƒ /api/renew-histories/[id]              192 B        99.8 kB
2025-Jul-23 11:48:46.046353
#14 138.6 ├ ƒ /api/services                          192 B        99.8 kB
2025-Jul-23 11:48:46.046353
#14 138.6 ├ ƒ /api/services/[id]                     192 B        99.8 kB
2025-Jul-23 11:48:46.046353
#14 138.6 ├ ƒ /api/services/customer/[customerId]    192 B        99.8 kB
2025-Jul-23 11:48:46.046353
#14 138.6 ├ ○ /log                                 4.06 kB         147 kB
2025-Jul-23 11:48:46.046353
#14 138.6 ├ ○ /login                               4.46 kB         112 kB
2025-Jul-23 11:48:46.046353
#14 138.6 └ ○ /services                            21.7 kB         220 kB
2025-Jul-23 11:48:46.046353
#14 138.6 + First Load JS shared by all            99.6 kB
2025-Jul-23 11:48:46.046353
#14 138.6   ├ chunks/4bd1b696-602635ee57868870.js  54.1 kB
2025-Jul-23 11:48:46.046353
#14 138.6   ├ chunks/5964-e98f132f9229d654.js      43.5 kB
2025-Jul-23 11:48:46.046353
#14 138.6   └ other shared chunks (total)          1.93 kB
2025-Jul-23 11:48:46.046353
#14 138.6
2025-Jul-23 11:48:46.046353
#14 138.6
2025-Jul-23 11:48:46.046353
#14 138.6 ƒ Middleware                               39 kB
2025-Jul-23 11:48:46.046353
#14 138.6
2025-Jul-23 11:48:46.046353
#14 138.6 ○  (Static)   prerendered as static content
2025-Jul-23 11:48:46.046353
#14 138.6 ƒ  (Dynamic)  server-rendered on demand
2025-Jul-23 11:48:46.046353
#14 138.6
2025-Jul-23 11:48:46.103284
#14 DONE 138.8s
2025-Jul-23 11:48:47.830025
#15 [runner  2/14] RUN apk add --no-cache curl
2025-Jul-23 11:48:47.830025
#15 CACHED
2025-Jul-23 11:48:47.830025
2025-Jul-23 11:48:47.830025
#16 [runner  3/14] RUN addgroup --system --gid 1001 nodejs
2025-Jul-23 11:48:47.830025
#16 CACHED
2025-Jul-23 11:48:47.830025
2025-Jul-23 11:48:47.830025
#17 [runner  4/14] RUN adduser --system --uid 1001 nextjs
2025-Jul-23 11:48:47.830025
#17 CACHED
2025-Jul-23 11:48:47.830025
2025-Jul-23 11:48:47.830025
#18 [runner  5/14] COPY --from=builder /app/public ./public
2025-Jul-23 11:48:47.830025
#18 CACHED
2025-Jul-23 11:48:47.830025
2025-Jul-23 11:48:47.830025
#19 [runner  6/14] RUN mkdir .next
2025-Jul-23 11:48:47.830025
#19 CACHED
2025-Jul-23 11:48:47.830025
2025-Jul-23 11:48:47.830025
#20 [runner  7/14] RUN chown nextjs:nodejs .next
2025-Jul-23 11:48:47.830025
#20 CACHED
2025-Jul-23 11:48:47.830025
2025-Jul-23 11:48:47.830025
#21 [runner  8/14] COPY --from=builder --chown=nextjs:nodejs /app/.next/standalone ./
2025-Jul-23 11:48:48.514305
#21 DONE 0.7s
2025-Jul-23 11:48:48.627069
#22 [runner  9/14] COPY --from=builder --chown=nextjs:nodejs /app/.next/static ./.next/static
2025-Jul-23 11:48:48.627069
#22 DONE 0.1s
2025-Jul-23 11:48:48.627069
2025-Jul-23 11:48:48.627069
#23 [runner 10/14] COPY --from=builder --chown=nextjs:nodejs /app/prisma ./prisma
2025-Jul-23 11:48:48.627069
#23 DONE 0.0s
2025-Jul-23 11:48:48.769398
2025-Jul-23 11:48:48.775405
#24 [runner 11/14] COPY --from=builder --chown=nextjs:nodejs /app/node_modules/.prisma ./node_modules/.prisma
2025-Jul-23 11:48:48.775405
#24 DONE 0.1s
2025-Jul-23 11:48:48.879520
2025-Jul-23 11:48:48.888301
#25 [runner 12/14] COPY --from=builder --chown=nextjs:nodejs /app/node_modules/@prisma ./node_modules/@prisma
2025-Jul-23 11:48:48.888301
#25 DONE 0.1s
2025-Jul-23 11:48:49.054614
#26 [runner 13/14] COPY --from=builder --chown=nextjs:nodejs /app/scripts/start.sh ./start.sh
2025-Jul-23 11:48:49.054614
#26 DONE 0.0s
2025-Jul-23 11:48:49.054614
2025-Jul-23 11:48:49.054614
#27 [runner 14/14] RUN chmod +x ./start.sh
2025-Jul-23 11:48:49.054614
#27 DONE 0.1s
2025-Jul-23 11:48:49.222658
#28 exporting to image
2025-Jul-23 11:48:49.222658
#28 exporting layers
2025-Jul-23 11:48:50.260549
#28 exporting layers 1.2s done
2025-Jul-23 11:48:50.314527
#28 writing image sha256:e0ba7b929b770433bd1250c1dffaf58be9becfcc9329ac2c626840fb172319d0 done
2025-Jul-23 11:48:50.314527
#28 naming to docker.io/library/gc88o84og444ggw0wcwo8cg0:37e777c7e0d6c64f2d20bcba5022335b535f8cad done
2025-Jul-23 11:48:50.314527
#28 DONE 1.2s
2025-Jul-23 11:48:50.341749
Building docker image completed.
2025-Jul-23 11:48:50.351665
----------------------------------------
2025-Jul-23 11:48:50.359199
Rolling update started.
2025-Jul-23 11:48:50.868803
[CMD]: docker exec ts0gw0c00w0848k048c0kssg bash -c 'SOURCE_COMMIT=37e777c7e0d6c64f2d20bcba5022335b535f8cad COOLIFY_URL=http://gc88o84og444ggw0wcwo8cg0.23.88.44.63.sslip.io COOLIFY_FQDN=gc88o84og444ggw0wcwo8cg0.23.88.44.63.sslip.io COOLIFY_BRANCH=master  docker compose --project-name gc88o84og444ggw0wcwo8cg0 --project-directory /artifacts/ts0gw0c00w0848k048c0kssg -f /artifacts/ts0gw0c00w0848k048c0kssg/docker-compose.yaml up --build -d'
2025-Jul-23 11:48:50.868803
Container gc88o84og444ggw0wcwo8cg0-114600258395  Creating
2025-Jul-23 11:48:50.933711
gc88o84og444ggw0wcwo8cg0-114600258395 Your kernel does not support memory swappiness capabilities or the cgroup is not mounted. Memory swappiness discarded.
2025-Jul-23 11:48:50.945347
Container gc88o84og444ggw0wcwo8cg0-114600258395  Created
2025-Jul-23 11:48:50.945347
Container gc88o84og444ggw0wcwo8cg0-114600258395  Starting
2025-Jul-23 11:48:51.243534
Container gc88o84og444ggw0wcwo8cg0-114600258395  Started
2025-Jul-23 11:48:51.261187
New container started.
2025-Jul-23 11:48:51.271147
Custom healthcheck found, skipping default healthcheck.
2025-Jul-23 11:48:51.284938
Waiting for healthcheck to pass on the new container.
2025-Jul-23 11:48:51.290375
Waiting for the start period (40 seconds) before starting healthcheck.
2025-Jul-23 11:49:31.576618
[CMD]: docker inspect --format='{{json .State.Health.Status}}' gc88o84og444ggw0wcwo8cg0-114600258395
2025-Jul-23 11:49:31.576618
2025-Jul-23 11:49:31.592508
template parsing error: template: :1:13: executing "" at <.State.Health.Status>: map has no entry for key "Health"
2025-Jul-23 11:49:31.728713
Oops something is not okay, are you okay? 😢
2025-Jul-23 11:49:31.743329
template parsing error: template: :1:13: executing "" at <.State.Health.Status>: map has no entry for key "Health"
2025-Jul-23 11:49:31.761647
Deployment failed. Removing the new version of your application.
2025-Jul-23 11:49:32.647591
Gracefully shutting down build container: ts0gw0c00w0848k048c0kssg
2025-Jul-23 11:49:33.002585
[CMD]: docker stop --time=30 ts0gw0c00w0848k048c0kssg
2025-Jul-23 11:49:33.002585
ts0gw0c00w0848k048c0kssg
2025-Jul-23 11:49:33.149683
[CMD]: docker rm -f ts0gw0c00w0848k048c0kssg
2025-Jul-23 11:49:33.149683
Error response from daemon: No such container: ts0gw0c00w0848k048c0kssg